/*
 * ScrollSpy JavaScript Library v1.0.0
 * https://scrollspy.github.io
 *
 * Note : this JS file is converted to ES5 using babel, for any contributions use ScrollSpy.js in src folder
 */
"use strict";function ScrollSpy(){function s(t,e){var o=1<arguments.length&&void 0!==e?e:_();return t.offsetTop>o[0]&&t.offsetTop<o[1]||t.offsetTop+t.offsetHeight>o[0]&&t.offsetTop+t.offsetHeight<o[1]||t.offsetTop<o[0]&&t.offsetTop+t.offsetHeight>o[1]}function o(t){function e(){var n=_(),o=[],i=null,c=null;Array.prototype.forEach.call(d,function(t){var e=[t[0].offsetTop,function(t,e){var o=1<arguments.length&&void 0!==e?e:_();if(s(t,o)){var n=t.offsetTop,i=t.offsetHeight,c=n+i,a=o[0],r=o[1],l=0;return a<=n&&c<=r&&(l=i),n<a&&c<=r&&(l=c-a),a<=n&&r<c&&(l=r-n),n<a&&r<c&&(l=r-a),Math.round(l/f*100)}return 0}(t[0],n)];0!==e[1]&&o.push(e)}),0===o.length?(o[0]=[0,0],o[1]=[0,0],y=!0,T&&!g&&(Array.prototype.forEach.call(d,function(t){t[1].classList.remove("spy-active")}),y=!1,c=-1)):y=!1,1===o.length&&(o[1]=[0,0]);var a=o.reduce(function(t,e){return Math.max(t[1],e[1])});if(isNaN(a)){var r=[];Array.prototype.forEach.call(o,function(o){Array.prototype.forEach.call(d,function(t){if(t[0].offsetTop===o[0]){var e=[t[0].offsetTop,function(t,e){var o=1<arguments.length&&void 0!==e?e:_();if(s(t,o)){var n=t.offsetTop,i=n+t.offsetHeight,c=o[0]+f/2,a=0;return n<c&&i<c&&(a=c-i),c<=n&&c<i&&(a=i-c),n<=c&&c<=i&&(a=0),a}return 0}(t[0],n)];r.includes(e)||r.push(e)}})}),r.reduce(function(t,e){void 0!==t&&void 0!==e&&(a=Math.min(t[1],e[1]))}),o=r}a!==v&&(v=a,Array.prototype.forEach.call(o,function(e){m&&!y&&(e[1]=a,m=!1,v=p=0),e[1]!==a||e[0]===p||y||(p=e[0],Array.prototype.forEach.call(d,function(t){t[0].offsetTop===e[0]&&(i=t[0],c=t[1])}),T&&-1!==c&&(Array.prototype.forEach.call(d,function(t){t[1].classList.remove("spy-active")}),c.classList.add("spy-active")),null!=i&&l(i))}))}var o=0<arguments.length&&void 0!==t&&t,n=r,i=(new Date).getTime();c||o?e():(3*n<i-h&&(e(),h=i),c=setTimeout(function(){c=null,h=(new Date).getTime(),e()},n))}function n(){f!==window.innerHeight&&(f=window.innerHeight,A(),t.Indicator(u))}var c,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{contexts_class:"scrollspy",delay:200,callbackOnChange:function(){},callbackOnDestroy:function(){}},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{element:null,indicator_container_class:"",indicator_item_class:"",clickable:!0,forceActive:!1},l=void 0!==i.callbackOnChange?i.callbackOnChange:function(){},a=void 0!==i.callbackOnDestroy?i.callbackOnDestroy:function(){},r=i.delay,f=window.innerHeight,d=[],u=[],p=-1,v=-1,h=0,y=!0,m=!0,g=!1,T=!1,t={destroy:function(t){b((0<arguments.length&&void 0!==t?t:a)())},Indicator:function(t){var o=0<arguments.length&&void 0!==t?t:{element:e.element,indicator_container_class:e.indicator_container_class,indicator_item_class:e.indicator_item_class,clickable:e.clickable,forceActive:e.forceActive};if(g=(u=o).forceActive,null!==o.element||void 0!==o.element){o.element.innerHTML="";var n=document.createElement("ul");n.classList.add("scrollspy-indicator-container"),void 0!==o.indicator_container_class&&n.classList.add(o.indicator_container_class),o.element.appendChild(n),Array.prototype.forEach.call(d,function(t){var e=document.createElement("li");void 0!==o.indicator_item_class&&e.classList.add(o.indicator_item_class),e.innerHTML=t[0].getAttribute("spy-title"),n.appendChild(e),!1!==o.clickable&&(e.classList.add("spy-clickable"),e.onclick=function(e){Array.prototype.forEach.call(d,function(t){t[1]===e.target&&E(t[0])})}),t.push(e)}),T=!0}}},_=function(){return void 0!==window.pageYOffset?[pageYOffset,pageYOffset+f]:[t=document.documentElement.scrollTop||document.body.scrollTop||0,t+f];var t},E=function(t){var e;e=t.offsetHeight>f?t.offsetTop-24:t.offsetTop-(f-t.offsetHeight)/2,window.scrollTo({top:e,behavior:"smooth"})},A=function(t){var e=0<arguments.length&&void 0!==t?t:l();d=[],void 0!==e&&(l=e),function(){var t=document.getElementsByClassName(i.contexts_class),e=[];Array.prototype.forEach.call(t,function(t){e[t.offsetTop]=t}),t=null,e=e.filter(function(t){return void 0!==t}),Array.prototype.forEach.call(e,function(t){var e=[t];d.includes(e)||d.push(e)}),e=null,document.addEventListener("scroll",o),window.addEventListener("resize",n)}()},b=function(t){var e=0<arguments.length&&void 0!==t?t:function(){};document.removeEventListener("scroll",o),T&&(u.element.innerHTML=""),u=T=m=y=v=p=d=f=r=null,e()};return A(l),o(),t}